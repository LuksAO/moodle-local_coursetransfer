/**
 * @package
 * @author  2022 3iPunt <https://www.tresipunt.com/>
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_coursetransfer/origin_restore_step3",["jquery","core/str","core/ajax","core/templates"],(function($,Str,Ajax,Templates){let ACTIONS_COURSE_SELECT='[data-action="select"]',ACTIONS_NEXT='[data-action="next"]';function originRestoreStep3(region){this.node=$(region),this.data=JSON.parse(sessionStorage.getItem("local_coursetransfer_restore_page")),this.data.courses.forEach((function(course){let courseid=parseInt(course.courseid),destinyid=parseInt(course.destinyid);$(ACTIONS_COURSE_SELECT+'[data-courseid="'+courseid+'"]').prop("checked",!0),$('[data-action="destiny"][data-courseid="'+courseid+'"] option[value="'+destinyid+'"]').prop("selected",!0)})),this.data.configuration.forEach((function(config){$("#"+config.name).prop("checked",config.selected)})),this.node.find(ACTIONS_NEXT).on("click",this.clickNext.bind(this))}return originRestoreStep3.prototype.clickNext=function(e){let checkboxes=$(".configuration-checkbox"),configuration=[];checkboxes.each((function(){configuration.push({name:$(this).attr("id"),selected:$(this).prop("checked")})})),this.data.configuration=configuration,sessionStorage.setItem("local_coursetransfer_restore_page",JSON.stringify(this.data));let currentUrl=$(location).attr("href"),url=new URL(currentUrl);url.searchParams.set("step","4"),window.location.href=url.href},originRestoreStep3.prototype.node=null,{initRestoreStep3:function(region){return new originRestoreStep3(region)}}}));

//# sourceMappingURL=origin_restore_step3.min.js.map