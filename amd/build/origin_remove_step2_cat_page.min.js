/**
 *
 * @module     local_coursetransfer
 * @copyright  2023 Proyecto UNIMOODLE
 * @author     UNIMOODLE Group (Coordinator) <direccion.area.estrategia.digital@uva.es>
 * @author     3IPUNT <contacte@tresipunt.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_coursetransfer/origin_remove_step2_cat_page",["jquery","core/str","core/ajax","core/templates"],(function($,Str,Ajax,Templates){var ACTIONS_CAT_SELECT='[data-action="select"]',ACTIONS_NEXT='[data-action="next"]';function originRemoveCatStep2(region){this.node=$(region);var data=JSON.parse(sessionStorage.getItem("local_coursetransfer_remove_cat_page"));data&&$(ACTIONS_CAT_SELECT+'[data-id="'+data.categoryid+'"]').prop("checked",!0),this.selectCat(),this.node.find(ACTIONS_CAT_SELECT).on("click",this.selectCat.bind(this)),this.node.find(ACTIONS_NEXT).on("click",this.clickNext.bind(this))}return originRemoveCatStep2.prototype.selectCat=function(e){var selected=!1;this.node.find(ACTIONS_CAT_SELECT).each((function(i,item){$(item).prop("checked")&&(selected=!0)})),selected?this.node.find(ACTIONS_NEXT).removeAttr("disabled"):this.node.find(ACTIONS_NEXT).prop("disabled",!0)},originRemoveCatStep2.prototype.clickNext=function(e){var category=null;this.node.find(ACTIONS_CAT_SELECT).each((function(i,item){var catid=$(item).data("id");$(item).prop("checked")&&(category=catid)}));var data={categoryid:category};sessionStorage.setItem("local_coursetransfer_remove_cat_page",JSON.stringify(data));var currentUrl=$(location).attr("href"),url=new URL(currentUrl);url.searchParams.set("step","3"),url.searchParams.set("removeid",category),window.location.href=url.href},originRemoveCatStep2.prototype.renderErrors=function(errors,alertbox){var errorString="";alertbox.removeClass("hidden"),errors.forEach((function(error){errorString+="Error ("+error.code+"): "+error.msg+"<br>"})),alertbox.append(errorString)},originRemoveCatStep2.prototype.node=null,{initOriginRemoveCatStep2:function(region){return new originRemoveCatStep2(region)}}}));

//# sourceMappingURL=origin_remove_step2_cat_page.min.js.map