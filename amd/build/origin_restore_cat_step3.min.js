/**
 *
 * @module     local_coursetransfer
 * @copyright  2023 Proyecto UNIMOODLE
 * @author     UNIMOODLE Group (Coordinator) <direccion.area.estrategia.digital@uva.es>
 * @author     3IPUNT <contacte@tresipunt.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_coursetransfer/origin_restore_cat_step3",["jquery","core/str","core/ajax","core/templates"],(function($,Str,Ajax,Templates){let ACTIONS_NEXT='[data-action="next"]',ACTIONS_TARGET='[data-action="target"]';function originRestoreCatStep3(region){if(this.node=$(region),this.data=JSON.parse(sessionStorage.getItem("local_coursetransfer_restore_cat_page")),this.data){if(this.data.targetid){let targetid=parseInt(this.data.targetid);this.node.find(ACTIONS_TARGET).val(targetid)}this.data.configuration&&this.data.configuration.forEach((function(config){$("#"+config.name).prop("checked",config.selected)}))}this.node.find(ACTIONS_NEXT).on("click",this.clickNext.bind(this)),this.node.find("#origin_schedule").on("click",this.clickSchedule.bind(this))}return originRestoreCatStep3.prototype.clickNext=function(e){this.data.targetid=parseInt(this.node.find(ACTIONS_TARGET).val());let configuration=[];$(".configuration-checkbox").each((function(){if("origin_schedule_datetime"===$(this).attr("id")){let datetime=$(this).val();configuration.push({name:$(this).attr("id"),value:datetime})}else configuration.push({name:$(this).attr("id"),selected:$(this).prop("checked")})})),this.data.configuration=configuration,sessionStorage.setItem("local_coursetransfer_restore_cat_page",JSON.stringify(this.data));let currentUrl=$(location).attr("href"),url=new URL(currentUrl);url.searchParams.set("step","4"),window.location.href=url.href},originRestoreCatStep3.prototype.clickSchedule=function(e){this.node.find("#origin_schedule").is(":checked")?this.node.find("#origin_schedule_datetime").attr("disabled",!1):this.node.find("#origin_schedule_datetime").attr("disabled",!0)},originRestoreCatStep3.prototype.node=null,{initRestoreCatStep3:function(region){return new originRestoreCatStep3(region)}}}));

//# sourceMappingURL=origin_restore_cat_step3.min.js.map